<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modern build ‚ôªÔ∏è | Webpack Workshop</title>
    <meta name="description" content="Webpack discovering and mastering workshops">
    
    
    <link rel="preload" href="/webpack-workshop/assets/css/0.styles.0fc81441.css" as="style"><link rel="preload" href="/webpack-workshop/assets/js/app.3d643492.js" as="script"><link rel="preload" href="/webpack-workshop/assets/js/3.9555c53d.js" as="script"><link rel="preload" href="/webpack-workshop/assets/js/7.165fc34d.js" as="script"><link rel="preload" href="/webpack-workshop/assets/js/6.9a25c8bd.js" as="script"><link rel="prefetch" href="/webpack-workshop/assets/js/10.56b9ab52.js"><link rel="prefetch" href="/webpack-workshop/assets/js/11.67ad69d3.js"><link rel="prefetch" href="/webpack-workshop/assets/js/12.cb5e20a8.js"><link rel="prefetch" href="/webpack-workshop/assets/js/13.b8537385.js"><link rel="prefetch" href="/webpack-workshop/assets/js/14.201dd57b.js"><link rel="prefetch" href="/webpack-workshop/assets/js/15.0dd97514.js"><link rel="prefetch" href="/webpack-workshop/assets/js/16.22f0fd66.js"><link rel="prefetch" href="/webpack-workshop/assets/js/17.7cbf421d.js"><link rel="prefetch" href="/webpack-workshop/assets/js/18.07875d8d.js"><link rel="prefetch" href="/webpack-workshop/assets/js/19.cce49612.js"><link rel="prefetch" href="/webpack-workshop/assets/js/20.52d75d80.js"><link rel="prefetch" href="/webpack-workshop/assets/js/21.33884c81.js"><link rel="prefetch" href="/webpack-workshop/assets/js/22.236e6bf9.js"><link rel="prefetch" href="/webpack-workshop/assets/js/23.46a7c872.js"><link rel="prefetch" href="/webpack-workshop/assets/js/24.4e8ecd49.js"><link rel="prefetch" href="/webpack-workshop/assets/js/25.0882b16e.js"><link rel="prefetch" href="/webpack-workshop/assets/js/4.25aafd6c.js"><link rel="prefetch" href="/webpack-workshop/assets/js/5.56c40b37.js"><link rel="prefetch" href="/webpack-workshop/assets/js/8.a23d654b.js"><link rel="prefetch" href="/webpack-workshop/assets/js/9.59b97a18.js"><link rel="prefetch" href="/webpack-workshop/assets/js/vendors~docsearch.00f64713.js">
    <link rel="stylesheet" href="/webpack-workshop/assets/css/0.styles.0fc81441.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/webpack-workshop/" class="home-link router-link-active"><!----> <span class="site-name">Webpack Workshop</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/webpack-workshop/" class="nav-link">Home</a></div><div class="nav-item"><a href="/webpack-workshop/workshops/" class="nav-link router-link-active">Workshops</a></div> <a href="https://github.com/Slashgear/webpack-workshop" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/webpack-workshop/" class="nav-link">Home</a></div><div class="nav-item"><a href="/webpack-workshop/workshops/" class="nav-link router-link-active">Workshops</a></div> <a href="https://github.com/Slashgear/webpack-workshop" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/webpack-workshop/workshops/" class="sidebar-link">Get started</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Novice</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack-workshop/workshops/novice/basics.html" class="sidebar-link">Basics</a></li><li><a href="/webpack-workshop/workshops/novice/static-assets.html" class="sidebar-link">Handling static assets</a></li><li><a href="/webpack-workshop/workshops/novice/code-assets.html" class="sidebar-link">Handling üíÖ assets</a></li><li><a href="/webpack-workshop/workshops/novice/outputs.html" class="sidebar-link">Playing with outputs</a></li><li><a href="/webpack-workshop/workshops/novice/novice-koans.html" class="sidebar-link">Novice Ko√¢ns üìå</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Intermediate</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack-workshop/workshops/intermediate/dev.html" class="sidebar-link">Development Tricks üöÄ</a></li><li><a href="/webpack-workshop/workshops/intermediate/babel.html" class="sidebar-link">Use Babel</a></li><li><a href="/webpack-workshop/workshops/intermediate/style.html" class="sidebar-link">Coding with style üíÖ</a></li><li><a href="/webpack-workshop/workshops/intermediate/reduce-bundle-size.html" class="sidebar-link">Bundle size hunting ‚úÇÔ∏è</a></li><li><a href="/webpack-workshop/workshops/intermediate/modern-build.html" class="active sidebar-link">Modern build ‚ôªÔ∏è</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack-workshop/workshops/intermediate/modern-build.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/webpack-workshop/workshops/intermediate/modern-build.html#reduce-polyfill" class="sidebar-link">Reduce polyfill</a></li><li class="sidebar-sub-header"><a href="/webpack-workshop/workshops/intermediate/modern-build.html#focus-a-new-target" class="sidebar-link">Focus a new target !</a></li></ul></li><li><a href="/webpack-workshop/workshops/intermediate/compression.html" class="sidebar-link">File compression üóúÔ∏è</a></li><li><a href="/webpack-workshop/workshops/intermediate/intermediate-koans.html" class="sidebar-link">Intermediate Ko√¢ns üìå</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webpack-workshop/workshops/advanced/plugins.html" class="sidebar-link">Your first webpack plugin ‚ù§Ô∏è</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="modern-build"><a href="#modern-build" aria-hidden="true" class="header-anchor">#</a> Modern build ‚ôªÔ∏è</h1> <blockquote><p>To start this exercise, be sure to be in <code>./packages/intermediate/modern-build</code> folder.
Be sure you have <a href="/webpack-workshop/workshops/#install">installed this repository first</a></p></blockquote> <h2 id="introduction"><a href="#introduction" aria-hidden="true" class="header-anchor">#</a> Introduction</h2> <p>Try to start this application with <code>yarn build</code>.
Open the app in your browser and look at the JS bundle size and content.</p> <div class="tip custom-block"><p class="custom-block-title">Look out !</p> <p>You should notice that :</p> <ul><li>main bundle is pretty huge compared to others.</li> <li>JS in bundle is pretty old for your fresh browser.</li> <li>babel debug should be very verbose.</li></ul></div> <p>You should see babel debug logs like this:</p> <div class="language-txt extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>@babel/preset-env: `DEBUG` option

Using targets:
{
  &quot;android&quot;: &quot;4.4.3&quot;,
  &quot;chrome&quot;: &quot;71&quot;,
  &quot;edge&quot;: &quot;17&quot;,
  &quot;firefox&quot;: &quot;64&quot;,
  &quot;ie&quot;: &quot;10&quot;,
  &quot;ios&quot;: &quot;11.3&quot;,
  &quot;opera&quot;: &quot;56&quot;,
  &quot;safari&quot;: &quot;11.1&quot;
}

Using modules transform: auto

Using plugins:
  transform-template-literals { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-literals { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-function-name { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-arrow-functions { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-block-scoped-functions { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-classes { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-object-super { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-shorthand-properties { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-duplicate-keys { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-computed-properties { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-for-of { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-sticky-regex { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-dotall-regex { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;firefox&quot;:&quot;64&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-unicode-regex { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot;, &quot;ios&quot;:&quot;11.3&quot;, &quot;safari&quot;:&quot;11.1&quot; }
  transform-spread { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-parameters { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-destructuring { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-block-scoping { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-typeof-symbol { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-new-target { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-regenerator { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-exponentiation-operator { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-async-to-generator { &quot;android&quot;:&quot;4.4.3&quot;, &quot;ie&quot;:&quot;10&quot; }
  proposal-async-generator-functions { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot;, &quot;ios&quot;:&quot;11.3&quot;, &quot;safari&quot;:&quot;11.1&quot; }
  proposal-object-rest-spread { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot; }
  proposal-unicode-property-regex { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;firefox&quot;:&quot;64&quot;, &quot;ie&quot;:&quot;10&quot; }
  proposal-json-strings { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot;, &quot;ios&quot;:&quot;11.3&quot;, &quot;safari&quot;:&quot;11.1&quot; }
  proposal-optional-catch-binding { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;ie&quot;:&quot;10&quot; }
  transform-named-capturing-groups-regex { &quot;android&quot;:&quot;4.4.3&quot;, &quot;edge&quot;:&quot;17&quot;, &quot;firefox&quot;:&quot;64&quot;, &quot;ie&quot;:&quot;10&quot; }
</code></pre></div><p><img src="/webpack-workshop/assets/img/build.9b8923a2.png" alt="build size"></p> <p>Notice how discontinued browsers, such as Internet Explorer, are included in this list. This is a problem because unsupported browsers won't have newer features added, and Babel continues to transpile specific syntax for them. This unnecessarily increases the size of your bundle if users are not using this browser to access your site.</p> <p>Babel also logs a list of transform plugins used:</p> <p>That's a pretty long list! These are all the plugins that Babel needs to use to transform any ES2015+ syntax to older syntax for all the targeted browsers.</p> <h2 id="reduce-polyfill"><a href="#reduce-polyfill" aria-hidden="true" class="header-anchor">#</a> Reduce polyfill</h2> <p>Thanks to <code>babel-preset-env</code> <a href="https://babeljs.io/docs/en/babel-preset-env#usebuiltins" target="_blank" rel="noopener noreferrer">useBuiltIns<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> feature, we could try to remove useless polyfill.</p> <p>Let's try this!</p> <details><summary>Solution</summary> <div class="language-json extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted">¬†</div><br><br><br><br><br><br><br></div><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token string">&quot;last 2 versions&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;debug&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></details> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>You should see in logs that babel did not include all the polyfills. But the size of bundles does not change much. üéâ</p></div> <h2 id="focus-a-new-target"><a href="#focus-a-new-target" aria-hidden="true" class="header-anchor">#</a> Focus a new target !</h2> <p>When you have a very large browser target (old ones and brand new ones), you <em>need</em> to generate two targets.
Thanks to <code>type=&quot;module&quot;</code> feature of modern web browser, you can generate a big es5 like bundle and a brand new ES2018 one.</p> <p>To do so, let's try to generate a module target build with <a href="https://babeljs.io/docs/en/babel-preset-env#targetsesmodules" target="_blank" rel="noopener noreferrer">Babel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <details><summary>Solution</summary> <div class="language-json extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br></div><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;esmodules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;debug&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br><br><div class="highlighted">¬†</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><div class="highlighted">¬†</div><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vue-loader/lib/plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ScriptExtHtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;script-ext-html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// The source module of our dependency graph</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token string">&quot;./dist&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Configuration of what we tell webpack to generate (here, a ./dist/main.js file)</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].bundle.[hash].mjs&quot;</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">&quot;babel-loader&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.jpg$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              outputPath<span class="token punctuation">:</span> <span class="token string">&quot;assets&quot;</span><span class="token punctuation">,</span>
              publicPath<span class="token punctuation">:</span> <span class="token string">&quot;assets&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(sass|css)$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token string">&quot;vue-loader&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.html&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">ScriptExtHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      module<span class="token punctuation">:</span> <span class="token regex">/\.mjs$/</span><span class="token punctuation">,</span>
      custom<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
          attribute<span class="token punctuation">:</span> <span class="token string">&quot;nomodule&quot;</span><span class="token punctuation">,</span>
          value<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>We will see in other steps how to use more than one webpack configuration in the same project with webpack.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Slashgear/webpack-workshop/edit/master/docs/workshops/intermediate/modern-build.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/7/2019, 9:33:21 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ‚Üê
        <a href="/webpack-workshop/workshops/intermediate/reduce-bundle-size.html" class="prev">
          Bundle size hunting ‚úÇÔ∏è
        </a></span> <span class="next"><a href="/webpack-workshop/workshops/intermediate/compression.html">
          File compression üóúÔ∏è
        </a>
        ‚Üí
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/webpack-workshop/assets/js/app.3d643492.js" defer></script><script src="/webpack-workshop/assets/js/3.9555c53d.js" defer></script><script src="/webpack-workshop/assets/js/7.165fc34d.js" defer></script><script src="/webpack-workshop/assets/js/6.9a25c8bd.js" defer></script>
  </body>
</html>
